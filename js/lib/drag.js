var t={dragStart:!0},e=(u,g={})=>{let c,f,{bounds:h,axis:p="both",gpuAcceleration:m=!0,legacyTranslate:$=!0,transform:b,applyUserSelectHack:y=!0,disabled:w=!1,ignoreMultitouch:x=!1,recomputeBounds:_=t,grid:v,position:S,cancel:C,handle:D,defaultClass:A="neodrag",defaultClassDragging:B="neodrag-dragging",defaultClassDragged:E="neodrag-dragged",defaultPosition:R={x:0,y:0},onDragStart:I,onDrag:X,onDragEnd:Y,deadzone:z={width:0,height:0}}=g,N=!1,P=0,q=0,H=0,T=0,k=0,M=0,{x:U,y:W}=S?{x:S?.x??0,y:S?.y??0}:R;Z(U,W);let j,L,O,F,G,J="",K=!!S;_={...t,..._};let Q=document.body.style,V=u.classList;function Z(g=P,c=q){if("none"===p)return;if(!b){if($){let f=`${+g}px, ${+c}px`;return s(u,"transform",m?`translate3d(${f}, 0)`:`translate(${f})`)}return s(u,"translate",`${+g}px ${+c}px ${m?"1px":""}`)}let h=b({offsetX:g,offsetY:c,rootNode:u});r(h)&&s(u,"transform",h)}let tt=(g,c)=>{let f={offsetX:P,offsetY:q,rootNode:u,currentNode:G};u.dispatchEvent(new CustomEvent(g,{detail:f})),c?.(f)},te=addEventListener;te("pointerdown",to,!1),te("pointerup",tr,!1),te("pointermove",ti,!1),s(u,"touch-action","none");let tn=()=>{let g=u.offsetWidth/L.width;return isNaN(g)&&(g=1),g};function to(g){if(w||2===g.button||x&&!g.isPrimary)return;if(_.dragStart&&(j=a(h,u)),r(D)&&r(C)&&D===C)throw Error("`handle` selector can't be same as `cancel` selector");if(V.add(A),O=function(u,g){if(!u)return[g];if(d(u))return[u];if(Array.isArray(u))return u;let c=g.querySelectorAll(u);if(null===c)throw Error("Selector passed for `handle` option should be child of the element on which the action is applied");return Array.from(c.values())}(D,u),F=function(u,g){if(!u)return[];if(d(u))return[u];if(Array.isArray(u))return u;let c=g.querySelectorAll(u);if(null===c)throw Error("Selector passed for `cancel` option should be child of the element on which the action is applied");return Array.from(c.values())}(C,u),c=/(both|x)/.test(p),f=/(both|y)/.test(p),i(F,O))throw Error("Element being dragged can't be a child of the element on which `cancel` is applied");let m=g.composedPath()[0];if(!O.some(u=>u.contains(m)||u.shadowRoot?.contains(m))||i(F,[m]))return;G=1===O.length?u:O.find(u=>u.contains(m)),N=!0,L=u.getBoundingClientRect(),y&&(J=Q.userSelect,Q.userSelect="none"),tt("neodrag:start",I);let{clientX:$,clientY:b}=g,v=tn();c&&(H=$-U/v),f&&(T=b-W/v),j&&(k=$-L.left,M=b-L.top)}function tr(){N&&(_.dragEnd&&(j=a(h,u)),V.remove(B),V.add(E),y&&(Q.userSelect=J),tt("neodrag:end",Y),c&&(H=P),f&&(T=q),N=!1)}function ti(g){if(!N)return;_.drag&&(j=a(h,u)),V.add(B),g.preventDefault(),L=u.getBoundingClientRect();let m=g.clientX,$=g.clientY,b=tn();if(j){let y={left:j.left+k,top:j.top+M,right:j.right+k-L.width,bottom:j.bottom+M-L.height};m=n(m,y.left,y.right),$=n($,y.top,y.bottom)}if(Array.isArray(v)){let[w,x]=v;if(isNaN(+w)||w<0)throw Error("1st argument of `grid` must be a valid positive number");if(isNaN(+x)||x<0)throw Error("2nd argument of `grid` must be a valid positive number");let S=m-H,C=$-T;[S,C]=o([w/b,x/b],S,C),m=H+S,$=T+C}let D=parseFloat(getComputedStyle(document.documentElement).fontSize)*z.width,A=parseFloat(getComputedStyle(document.documentElement).fontSize)*z.height,E=window.getComputedStyle(u),R=new WebKitCSSMatrix(E.transform),I=R.m42,O=R.m41,F=g.clientY-I,G=g.clientX-O;if(Math.abs(F-T)<A&&Math.abs(G-H)<D&&!K){return}if("none"===p){tt("neodrag:end",Y);return}K=!0,c&&(P=Math.round((m-H)*b)),f&&(q=Math.round(($-T)*b)),U=P,W=q,tt("neodrag",X),Z()}return{destroy(){let u=removeEventListener;u("pointerdown",to,!1),u("pointerup",tr,!1),u("pointermove",ti,!1)},update(u){p=u.axis||"both",w=u.disabled??!1,x=u.ignoreMultitouch??!1,D=u.handle,h=u.bounds,_=u.recomputeBounds??t,C=u.cancel,y=u.applyUserSelectHack??!0,v=u.grid,m=u.gpuAcceleration??!0,$=u.legacyTranslate??!0,b=u.transform;let g=V.contains(E);V.remove(A,E),A=u.defaultClass??"neodrag",B=u.defaultClassDragging??"neodrag-dragging",E=u.defaultClassDragged??"neodrag-dragged",V.add(A),g&&V.add(E),K&&(U=P=u.position?.x??P,W=q=u.position?.y??q,Z())}}},n=(u,g,c)=>Math.min(Math.max(u,g),c),r=u=>"string"==typeof u,o=([u,g],c,f)=>{let h=(u,g)=>0===g?0:Math.ceil(u/g)*g;return[h(c,u),h(f,g)]},i=(u,g)=>u.some(u=>g.some(g=>u.contains(g)));function a(u,g){if(void 0===u)return;if(d(u))return u.getBoundingClientRect();if("object"==typeof u){let{top:c=0,left:f=0,right:h=0,bottom:p=0}=u;return{top:c,right:window.innerWidth-h,bottom:window.innerHeight-p,left:f}}if("parent"===u)return g.parentNode.getBoundingClientRect();let m=document.querySelector(u);if(null===m)throw Error("The selector provided for bound doesn't exists in the document.");return m.getBoundingClientRect()}var s=(u,g,c)=>u.style.setProperty(g,c),d=u=>u instanceof HTMLElement,l=class{constructor(u,g={}){this.node=u,this._dragInstance=e(u,this._options=g)}_dragInstance;_options={};updateOptions(u){this._dragInstance.update(Object.assign(this._options,u))}set options(u){this._dragInstance.update(this._options=u)}get options(){return this._options}destroy(){this._dragInstance.destroy()}};export default null;export{l as Draggable};